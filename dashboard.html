<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Clinic System | Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <style>
    :root{
      --bg:#f4f7fb;--card:#fff;--text:#0f172a;--muted:#64748b;
      --primary:#2563eb;--primary-2:#1e40af;
      --border:rgba(15,23,42,.08);
      --shadow:0 10px 30px rgba(2,6,23,.08);
      --shadow2:0 8px 20px rgba(2,6,23,.06);
      --radius:16px;
    }
    body.dark{
      --bg:#0b1220;--card:#0f1b32;--text:#e5e7eb;--muted:#9ca3af;
      --primary:#60a5fa;--primary-2:#3b82f6;
      --border:rgba(255,255,255,.08);
      --shadow:0 12px 36px rgba(0,0,0,.35);
      --shadow2:0 10px 24px rgba(0,0,0,.28);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Segoe UI,Tahoma;background:var(--bg);color:var(--text)}
    .topbar{background:linear-gradient(135deg,var(--primary),var(--primary-2));color:#fff;padding:14px}
    .topbar-inner{max-width:1200px;margin:auto;display:flex;justify-content:space-between}
    .btn{background:rgba(255,255,255,.16);border:none;border-radius:12px;color:#fff;padding:8px 12px;cursor:pointer}
    .wrap{max-width:1200px;margin:20px auto;padding:0 16px}
  </style>
</head>

<body>

<div class="topbar">
  <div class="topbar-inner">
    <div>Clinic System</div>
    <div>
      <button class="btn" id="btnLang">ğŸŒ <span id="uiLang">EN</span></button>
      <button class="btn" id="btnTheme">ğŸŒ“ <span id="uiTheme">Light</span></button>
      <button class="btn" id="btnLogout">ğŸšª Logout</button>
    </div>
  </div>
</div>

<div class="wrap">
  <a href="#" id="navPaymentsLink">ğŸ’³ Payments (PIN protected)</a>
</div>

<!-- ======= SCRIPTS ======= -->
<script>
/* ================= THEME ================= */
const btnTheme=document.getElementById("btnTheme");
const uiTheme=document.getElementById("uiTheme");

function applyTheme(t){
  document.body.classList.toggle("dark",t==="dark");
  uiTheme.innerText=t==="dark"?"Dark":"Light";
  localStorage.setItem("theme",t);
}
applyTheme(localStorage.getItem("theme")||"light");
btnTheme.onclick=()=>applyTheme(document.body.classList.contains("dark")?"light":"dark");

/* ================= LANGUAGE ================= */
const btnLang=document.getElementById("btnLang");
const uiLang=document.getElementById("uiLang");

function applyLang(l){
  uiLang.innerText=l.toUpperCase();
  document.documentElement.dir=l==="ar"?"rtl":"ltr";
  localStorage.setItem("lang",l);
}
applyLang(localStorage.getItem("lang")||"en");
btnLang.onclick=()=>applyLang(localStorage.getItem("lang")==="en"?"ar":"en");

/* ================= LOGOUT ================= */
document.getElementById("btnLogout").onclick=()=>{
  localStorage.removeItem("loggedIn");
  location.href="index.html";
};

/* ================= PAYMENTS PIN ================= */
document.getElementById("navPaymentsLink").onclick=(e)=>{
  e.preventDefault();
  const savedPin=localStorage.getItem("paymentPin");
  if(!savedPin){
    alert("Ù„Ù… ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† PIN Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª");
    return;
  }
  const entered=prompt("Ø£Ø¯Ø®Ù„ PIN Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª");
  if(entered===savedPin){
    location.href="payments.html";
  }else{
    alert("PIN ØºÙŠØ± ØµØ­ÙŠØ­");
  }
};
</script>

</body>
</html>
