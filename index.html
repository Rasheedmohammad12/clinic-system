<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clinic System</title>

<style>
:root{
    --primary:#2563eb;
    --bg:#f4f6f8;
    --card:#ffffff;
    --danger:#dc2626;
    --gray:#6b7280;
}
body{
    margin:0;
    font-family:Arial,sans-serif;
    background:var(--bg);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
.box{
    background:var(--card);
    padding:25px;
    border-radius:14px;
    width:520px;
    box-shadow:0 10px 25px rgba(0,0,0,.08);
    position:relative;
}
.hidden{display:none}
h2{text-align:center;margin-top:0}
button,input{
    width:100%;
    padding:10px;
    margin-top:8px;
    border-radius:6px;
    border:1px solid #e5e7eb;
}
button{
    background:var(--primary);
    color:#fff;
    border:none;
    cursor:pointer;
}
.logout{background:var(--danger)}
.back{background:var(--gray)}
.langBtn{
    position:absolute;
    top:12px;
    right:12px;
    width:auto;
    padding:6px 10px;
    background:#111827;
    font-size:12px;
}
.cards{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
    margin-top:20px;
}
.card{
    background:#f9fafb;
    border-radius:12px;
    padding:15px;
    text-align:center;
}
.card h3{
    margin:0;
    font-size:14px;
    color:var(--gray);
}
.card p{
    font-size:22px;
    font-weight:bold;
    margin:6px 0 0;
    color:var(--primary);
}
.menu button{margin-top:10px}
ul{list-style:none;padding:0;margin-top:15px}
li{
    background:#f1f5f9;
    padding:8px;
    border-radius:6px;
    margin-bottom:6px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.delete{
    background:var(--danger);
    font-size:12px;
    padding:5px 10px;
    width:auto;
}
.rtl{direction:rtl;text-align:right}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox" class="box">
    <button class="langBtn" onclick="toggleLang()">AR</button>
    <h2 id="loginTitle">Clinic Login</h2>
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()" id="loginBtn">Login</button>
    <p id="error" style="color:red;text-align:center"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="box hidden">
    <button class="langBtn" onclick="toggleLang()">AR</button>
    <h2 id="dashTitle">Dashboard</h2>

    <div class="cards">
        <div class="card">
            <h3 id="patientsLbl">Patients</h3>
            <p id="patientsCount">0</p>
        </div>
        <div class="card">
            <h3 id="appointmentsLbl">Appointments</h3>
            <p id="appointmentsCount">0</p>
        </div>
        <div class="card">
            <h3 id="revenueLbl">Revenue</h3>
            <p>$<span id="revenueTotal">0</span></p>
        </div>
    </div>

    <div class="menu">
        <button onclick="openPatients()" id="patientsNav">Patients</button>
        <button onclick="openAppointments()" id="appointmentsNav">Appointments</button>
        <button onclick="openRevenues()" id="revenuesNav">Revenues</button>
        <button class="logout" onclick="logout()" id="logoutBtn">Logout</button>
    </div>
</div>

<!-- PATIENTS -->
<div id="patientsPage" class="box hidden">
    <h2 id="patientsTitle">Patients</h2>
    <input id="patientName" placeholder="Patient name">
    <button onclick="addPatient()">Add</button>
    <ul id="patientsList"></ul>
    <button class="back" onclick="showDashboard()">Back</button>
</div>

<!-- APPOINTMENTS -->
<div id="appointmentsPage" class="box hidden">
    <h2 id="appointmentsTitle">Appointments</h2>
    <input id="appPatient" placeholder="Patient name">
    <input type="date" id="appDate">
    <button onclick="addAppointment()">Add</button>
    <ul id="appointmentsList"></ul>
    <button class="back" onclick="showDashboard()">Back</button>
</div>

<!-- REVENUES -->
<div id="revenuesPage" class="box hidden">
    <h2 id="revenuesTitle">Revenues</h2>
    <input id="revReason" placeholder="Reason">
    <input type="number" id="revAmount" placeholder="Amount">
    <button onclick="addRevenue()">Add</button>
    <ul id="revenuesList"></ul>
    <button class="back" onclick="showDashboard()">Back</button>
</div>

<script>
let lang=localStorage.getItem("lang")||"en";
let patients=JSON.parse(localStorage.getItem("patients"))||[];
let appointments=JSON.parse(localStorage.getItem("appointments"))||[];
let revenues=JSON.parse(localStorage.getItem("revenues"))||[];

const t={
en:{
login:"Clinic Login",dash:"Dashboard",patients:"Patients",appointments:"Appointments",
revenues:"Revenues",logout:"Logout",wrong:"Wrong password"
},
ar:{
login:"تسجيل دخول العيادة",dash:"لوحة التحكم",patients:"المرضى",appointments:"المواعيد",
revenues:"الإيرادات",logout:"تسجيل خروج",wrong:"كلمة مرور خاطئة"
}
};

function applyLang(){
document.body.classList.toggle("rtl",lang==="ar");
loginTitle.innerText=t[lang].login;
dashTitle.innerText=t[lang].dash;
patientsNav.innerText=t[lang].patients;
appointmentsNav.innerText=t[lang].appointments;
revenuesNav.innerText=t[lang].revenues;
logoutBtn.innerText=t[lang].logout;
patientsLbl.innerText=t[lang].patients;
appointmentsLbl.innerText=t[lang].appointments;
revenueLbl.innerText=t[lang].revenues;
}

function toggleLang(){
lang=lang==="en"?"ar":"en";
localStorage.setItem("lang",lang);
applyLang();
}

function hideAll(){
loginBox.classList.add("hidden");
dashboard.classList.add("hidden");
patientsPage.classList.add("hidden");
appointmentsPage.classList.add("hidden");
revenuesPage.classList.add("hidden");
}
function showDashboard(){
hideAll();
updateStats();
dashboard.classList.remove("hidden");
}
function openPatients(){hideAll();patientsPage.classList.remove("hidden");renderPatients();}
function openAppointments(){hideAll();appointmentsPage.classList.remove("hidden");renderAppointments();}
function openRevenues(){hideAll();revenuesPage.classList.remove("hidden");renderRevenues();}

function login(){
if(password.value==="clinic123"){
localStorage.setItem("loggedIn","true");
showDashboard();
}else error.innerText=t[lang].wrong;
}
function logout(){localStorage.removeItem("loggedIn");location.reload();}

function updateStats(){
patientsCount.innerText=patients.length;
appointmentsCount.innerText=appointments.length;
revenueTotal.innerText=revenues.reduce((s,r)=>s+r.a,0);
}

function addPatient(){
if(!patientName.value)return;
patients.push(patientName.value);
localStorage.setItem("patients",JSON.stringify(patients));
patientName.value="";
renderPatients();
}
function renderPatients(){
patientsList.innerHTML="";
patients.forEach((p,i)=>{
patientsList.innerHTML+=`<li>${p}<button class="delete" onclick="patients.splice(${i},1);localStorage.setItem('patients',JSON.stringify(patients));renderPatients()">X</button></li>`;
});
updateStats();
}

function addAppointment(){
if(!appPatient.value||!appDate.value)return;
appointments.push({n:appPatient.value,d:appDate.value});
localStorage.setItem("appointments",JSON.stringify(appointments));
appPatient.value="";appDate.value="";
renderAppointments();
}
function renderAppointments(){
appointmentsList.innerHTML="";
appointments.forEach((a,i)=>{
appointmentsList.innerHTML+=`<li>${a.n} - ${a.d}<button class="delete" onclick="appointments.splice(${i},1);localStorage.setItem('appointments',JSON.stringify(appointments));renderAppointments()">X</button></li>`;
});
updateStats();
}

function addRevenue(){
if(!revReason.value||!revAmount.value)return;
revenues.push({r:revReason.value,a:Number(revAmount.value)});
localStorage.setItem("revenues",JSON.stringify(revenues));
revReason.value="";revAmount.value="";
renderRevenues();
}
function renderRevenues(){
revenuesList.innerHTML="";
revenues.forEach((r,i)=>{
revenuesList.innerHTML+=`<li>${r.r} - $${r.a}<button class="delete" onclick="revenues.splice(${i},1);localStorage.setItem('revenues',JSON.stringify(revenues));renderRevenues()">X</button></li>`;
});
updateStats();
}

if(localStorage.getItem("loggedIn")==="true")showDashboard();
applyLang();
</script>

</body>
</html>
